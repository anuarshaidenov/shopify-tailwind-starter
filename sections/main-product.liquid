<section class="container mx-auto px-4 py-8">
  {% render 'breadcrumbs' %}
  <div class="grid md:grid-cols-2 gap-8">
    <div>
      {% if product.media.size > 0 %}
        <div class="space-y-4">
          {% for media in product.media %}
            {{ media | media_tag: class: 'w-full rounded border' }}
          {% endfor %}
        </div>
      {% else %}
        <div class="aspect-square bg-gray-100 rounded"></div>
      {% endif %}
    </div>

    <div>
      <h1 class="text-2xl font-semibold mb-2">{{ product.title }}</h1>
      <div class="text-lg mb-4">{% render 'price', product: product %}</div>

      {% if product.description != blank %}
        <div class="text-gray-700 mb-6 space-y-4">{{ product.description }}</div>
      {% endif %}

      {% form 'product', product, id: 'product-form-' | append: product.id %}
        {% if product.has_only_default_variant == false %}
          <div class="space-y-4 mb-4">
            {% for option in product.options_with_values %}
              <div>
                <label class="block text-sm font-medium mb-1">{{ option.name }}</label>
                <select name="options[{{ option.name }}]" class="w-full border rounded px-3 py-2">
                  {% for value in option.values %}
                    <option value="{{ value | escape }}" {% if option.selected_value == value %}selected{% endif %}>{{ value }}</option>
                  {% endfor %}
                </select>
              </div>
            {% endfor %}
          </div>
        {% endif %}

        <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
        <button
          type="submit"
          class="w-full md:w-auto bg-gray-900 text-white px-5 py-2 rounded hover:bg-black disabled:opacity-50"
          {% unless product.available %}disabled{% endunless %}
        >
          {% if product.available %}
            {{ 'products.product.add_to_cart' | t }}
          {% else %}
            {{ 'products.product.sold_out' | t }}
          {% endif %}
        </button>
      {% endform %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Main product",
  "settings": []
}
{% endschema %}