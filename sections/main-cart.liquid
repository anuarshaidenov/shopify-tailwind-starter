<section class="container mx-auto px-4 py-8">
  <h1 class="text-2xl font-semibold mb-6">{{ 'cart.general.title' | t }}</h1>

  {% if cart.item_count == 0 %}
    <p class="text-gray-600">{{ 'cart.general.empty' | t }}</p>
  {% else %}
    <form action="{{ routes.cart_url }}" method="post" novalidate>
      <table class="w-full text-left mb-6">
        <thead class="border-b">
          <tr>
            <th class="py-2">Product</th>
            <th class="py-2">Price</th>
            <th class="py-2">Qty</th>
            <th class="py-2 text-right">Total</th>
          </tr>
        </thead>
        <tbody>
          {% for item in cart.items %}
            <tr class="border-b">
              <td class="py-3">
                <a href="{{ item.url }}" class="flex items-center gap-3">
                  {% if item.image %}
                    <img src="{{ item.image | image_url: width: 100 }}" alt="{{ item.title }}" class="h-16 w-16 object-cover rounded border">
                  {% endif %}
                  <span class="text-sm">{{ item.product.title }}{% unless item.product.has_only_default_variant %} â€” {{ item.variant.title }}{% endunless %}</span>
                </a>
              </td>
              <td class="py-3 text-sm">{{ item.price | money }}</td>
              <td class="py-3">
                <input class="w-20 border rounded px-2 py-1" type="number" name="updates[]" value="{{ item.quantity }}" min="0">
              </td>
              <td class="py-3 text-right text-sm">{{ item.line_price | money }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

      <div class="flex items-center justify-between">
        <div class="text-lg">
          {{ 'cart.general.subtotal' | t }}: <span class="font-semibold">{{ cart.total_price | money }}</span>
        </div>
        <div class="flex gap-3">
          <button name="update" class="border px-4 py-2 rounded hover:bg-gray-50">{{ 'cart.general.update' | t }}</button>
          <a href="{{ routes.checkout_url }}" class="bg-gray-900 text-white px-5 py-2 rounded hover:bg-black">{{ 'cart.general.checkout' | t }}</a>
        </div>
      </div>
    </form>
  {% endif %}
</section>

{% schema %}
{
  "name": "Main cart",
  "settings": []
}
{% endschema %}